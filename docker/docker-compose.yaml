name: epic-awesome-gamer

services:
  epic-awesome-gamer:
    # ğŸ”´ è¯·ç¡®ä¿è¿™é‡Œçš„ image æ˜¯æ‚¨è‡ªå·±çš„ GitHub ç”¨æˆ·å
    image: ghcr.io/10000ge10000/epic-awesome-gamer:latest
    
    restart: "no"
    container_name: epic-awesome-gamer
    env_file:
      - .env
    
    # âœ… [æ ¸å¿ƒä¿®æ”¹] æ•°æ®æŒä¹…åŒ–é…ç½®
    # å°†å®¿ä¸»æœºçš„ ./volumes ç›®å½•æ˜ å°„åˆ°å®¹å™¨å†…çš„ /app/app/volumes ç›®å½•
    # è¿™æ ·æ‚¨çš„ ç™»å½•Cookieã€æˆªå›¾ã€æ—¥å¿— éƒ½ä¼šä¿å­˜åœ¨æœ¬åœ°ï¼Œé‡å¯å®¹å™¨ä¸ä¼šä¸¢å¤±
    volumes:
      - "./volumes/:/app/app/volumes/"
      
    entrypoint: [ "/usr/bin/tini", "--" ]
    command: xvfb-run --auto-servernum --server-num=1 --server-args='-screen 0, 1920x1080x24' uv run app/deploy.py

    # é™åˆ¶æœ€å¤§å†…å­˜ä¸º 4GBï¼Œé˜²æ­¢ C++ å†…å­˜æ³„æ¼å¯¼è‡´æœåŠ¡å™¨å¡æ­»
    mem_limit: 4g

    # åˆ†é…è¶³å¤Ÿçš„å…±äº«å†…å­˜ç»™ Playwright/Chromeï¼Œé˜²æ­¢å´©æºƒæˆ–å˜æ…¢
    shm_size: '2gb'
